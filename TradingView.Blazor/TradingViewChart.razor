@using TradingView.Blazor.Models
@using Microsoft.JSInterop
@inject IJSRuntime JSRuntime

<div @ref=ChartElement></div>

@code {
    public ElementReference ChartElement { get; set; }

    /// <summary>
    /// Load a chart
    /// </summary>
    /// <param name="data">ChartData</param>
    /// <param name="options">optional styling options</param>
    /// <returns></returns>
    public async Task LoadChartAsync(ChartData data, ChartOptions options)
    {
        // Use default options when none are provided
        if (options == null)
            options = new ChartOptions();
        
        ChartHelperInterop interop = new ChartHelperInterop(JSRuntime);
        await interop.LoadChart(ChartElement, data, options);
    }
}